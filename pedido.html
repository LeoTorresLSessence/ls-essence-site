<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Pedido | LS Essence</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background:#000;
  color:#fff;
  font-family:Arial, Helvetica, sans-serif;
  margin:0;
}
.container{
  max-width:720px;
  margin:auto;
  padding:16px;
}
h1{
  text-align:center;
  color:#c9a24d;
}
.section-title{
  margin:30px 0 15px;
  text-align:center;
  font-size:20px;
  color:#c9a24d;
  border-bottom:1px solid #333;
  padding-bottom:8px;
}
.item{
  background:#111;
  border-radius:16px;
  padding:14px;
  margin-bottom:16px;
}
.item-header{
  display:flex;
  align-items:center;
  gap:12px;
}
.item img{
  width:60px;
  height:60px;
  object-fit:cover;
  border-radius:12px;
}
label{
  flex:1;
  font-size:14px;
}
.size{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:10px;
}
.price{
  font-size:12px;
  color:#c9a24d;
}
.qtd{
  display:flex;
  align-items:center;
  gap:6px;
}
.qtd button{
  background:#c9a24d;
  border:none;
  padding:6px 10px;
  font-weight:bold;
  cursor:pointer;
}
.qtd span{
  min-width:18px;
  text-align:center;
}
.box{
  background:#111;
  border-radius:16px;
  padding:16px;
  margin-top:20px;
}
input{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:none;
}
.frete-box{
  background:#0d0d0d;
  border:1px solid #c9a24d;
  border-radius:14px;
  padding:14px;
  margin-top:20px;
  text-align:center;
  font-size:14px;
}
.progress{
  background:#222;
  border-radius:20px;
  overflow:hidden;
  height:12px;
  margin-top:10px;
}
.progress-bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#c9a24d,#f5d77a);
  transition:width 0.4s ease;
}
.total{
  font-size:20px;
  text-align:center;
  margin:25px 0;
  color:#c9a24d;
}
.btn{
  display:block;
  width:100%;
  background:#c9a24d;
  color:#000;
  text-align:center;
  padding:14px;
  border-radius:30px;
  text-decoration:none;
  font-weight:bold;
}
small{
  display:block;
  margin-top:20px;
  font-size:11px;
  color:#aaa;
  text-align:center;
}
</style>

<script>
const VALOR_FRETE_GRATIS = 300;
const FRETE_PADRAO = 20;
let carrinho = {};

function precoUnitario(tamanho, qtd){
  if(tamanho === "30"){
    return qtd > 1 ? 49.90 : 59.90;
  }else{
    return qtd > 1 ? 120.00 : 130.00;
  }
}

function alterar(produto, tamanho, delta){
  const key = produto + "_" + tamanho;
  carrinho[key] = (carrinho[key] || 0) + delta;
  if(carrinho[key] < 0) carrinho[key] = 0;
  document.getElementById(key).innerText = carrinho[key];
  atualizarPreco(produto, tamanho);
  atualizar();
}

function atualizarPreco(produto, tamanho){
  const key = produto + "_" + tamanho;
  const qtd = carrinho[key] || 1;
  document.getElementById(key + "_preco").innerText =
    "R$ " + precoUnitario(tamanho, qtd).toFixed(2) + " cada";
}

function atualizar(){
  let subtotal = 0;
  let msg = "üñ§ *Pedido LS Essence*%0A%0A";

  for(let k in carrinho){
    if(carrinho[k] > 0){
      const [nome, tamanho] = k.split("_");
      const preco = precoUnitario(tamanho, carrinho[k]);
      subtotal += carrinho[k] * preco;
      msg += `‚Ä¢ ${nome} ‚Äî ${tamanho}mL ‚Äî ${carrinho[k]} un.%0A`;
    }
  }

  let frete = FRETE_PADRAO;
  let textoFrete = "";

  let progresso = Math.min((subtotal / VALOR_FRETE_GRATIS) * 100, 100);
  document.getElementById("progressBar").style.width = progresso + "%";

  if(subtotal >= VALOR_FRETE_GRATIS){
    frete = 0;
    textoFrete = "üéâ Frete gr√°tis ativado!";
  }else{
    const falta = VALOR_FRETE_GRATIS - subtotal;
    textoFrete = `üöö Faltam R$ ${falta.toFixed(2)} para ganhar frete gr√°tis`;
  }

  freteTexto.innerText = textoFrete;

  const endereco = enderecoInput.value;
  const cep = cepInput.value;

  msg += `%0Aüìç Endere√ßo:%0A${endereco}%0ACEP: ${cep}`;
  msg += `%0Aüöö Frete: ${frete === 0 ? "GR√ÅTIS" : "R$ " + frete.toFixed(2)}`;
  msg += `%0A‚è≥ Prazo: Produ√ß√£o at√© 6 dias √∫teis + entrega at√© 4 dias √∫teis`;

  const total = subtotal + frete;
  msg += `%0A%0Aüí∞ Total: R$ ${total.toFixed(2)}`;
  msg += `%0Aüí≥ Pagamento via PIX`;

  totalDiv.innerText = `Total: R$ ${total.toFixed(2)}`;
  whats.href = "https://wa.me/5519988357427?text=" + msg;
}
</script>
</head>

<body>
<div class="container">

<h1>Monte seu pedido</h1>

<div class="section-title">Perfumes Masculinos</div>
<div id="masculinos"></div>

<div class="section-title">Perfumes Femininos</div>
<div id="femininos"></div>

<div class="box">
<h3>Endere√ßo de entrega</h3>
<input id="enderecoInput" placeholder="Rua, n√∫mero, bairro, cidade - UF" oninput="atualizar()">
<input id="cepInput" placeholder="CEP" oninput="atualizar()">
</div>

<div class="frete-box">
<div id="freteTexto">üöö Faltam R$ 300,00 para ganhar frete gr√°tis</div>
<div class="progress">
  <div class="progress-bar" id="progressBar"></div>
</div>
</div>

<div class="total" id="totalDiv">Total: R$ 0,00</div>

<a class="btn" id="whats" target="_blank">Finalizar pedido no WhatsApp</a>

<small>LS Essence ‚Ä¢ Refer√™ncias olfativas apenas indicativas</small>

</div>

<script>
const masculinos = [
"LS Wild N¬∫01","LS Elite N¬∫02","LS Crown N¬∫03","LS Shadow N¬∫04","LS Gold N¬∫05",
"LS Rebel N¬∫06","LS Desire N¬∫07","LS Victory N¬∫08","LS Night N¬∫09","LS Intense N¬∫10"
];

const femininos = [
"LS Rose N¬∫11","LS Goddess N¬∫12","LS Fresh N¬∫13","LS Bold N¬∫14","LS Pure N¬∫15",
"LS Noir N¬∫16","LS Chic N¬∫17","LS Chance N¬∫18","LS Secret N¬∫19","LS Crystal N¬∫20",
"LS Liberty N¬∫21"
];

function render(lista, destino){
  lista.forEach(p=>{
    destino.innerHTML += `
    <div class="item">
      <div class="item-header">
        <img src="img/default.jpg">
        <label>${p}</label>
      </div>

      <div class="size">
        <div>30 mL<div class="price" id="${p}_30_preco">R$ 59,90 cada</div></div>
        <div class="qtd">
          <button onclick="alterar('${p}','30',-1)">-</button>
          <span id="${p}_30">0</span>
          <button onclick="alterar('${p}','30',1)">+</button>
        </div>
      </div>

      <div class="size">
        <div>100 mL<div class="price" id="${p}_100_preco">R$ 130,00 cada</div></div>
        <div class="qtd">
          <button onclick="alterar('${p}','100',-1)">-</button>
          <span id="${p}_100">0</span>
          <button onclick="alterar('${p}','100',1)">+</button>
        </div>
      </div>
    </div>`;
  });
}

render(masculinos, document.getElementById("masculinos"));
render(femininos, document.getElementById("femininos"));
</script>

</body>
</html>
