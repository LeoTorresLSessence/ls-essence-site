<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Pedido | LS Essence</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{background:#000;color:#fff;font-family:Arial,Helvetica,sans-serif;margin:0}
.container{max-width:760px;margin:auto;padding:16px;padding-bottom:220px}
h1{text-align:center;color:#c9a24d}
h2{color:#c9a24d;margin-top:32px;border-bottom:1px solid #333;padding-bottom:6px}

.item{background:#111;border-radius:16px;padding:14px;margin-bottom:14px}
.item-top{display:flex;align-items:center;gap:14px}
.item img{width:70px;border-radius:12px}
.nome{font-weight:bold}
.nome small{display:block;font-weight:normal;font-size:11px;color:#aaa}

.tamanhos{margin-top:10px}
.tamanho{display:flex;justify-content:space-between;align-items:center;margin-top:8px;font-size:13px;padding:8px;border-radius:10px}
.preco{color:#c9a24d;font-size:12px}

.qtd{display:flex;align-items:center;gap:6px}
.qtd button{background:#c9a24d;border:none;padding:5px 9px;font-weight:bold;cursor:pointer}
.qtd span{min-width:18px;text-align:center}

.box{background:#111;border-radius:16px;padding:16px;margin-top:24px}
input{width:100%;padding:12px;margin-top:10px;border-radius:10px;border:none}

.btn{display:block;width:100%;background:#c9a24d;color:#000;text-align:center;padding:14px;border-radius:30px;text-decoration:none;font-weight:bold;margin-top:16px}

small{text-align:center;font-size:11px;color:#aaa;display:block;margin-top:18px}

/* Barra total */
.total-barra{
position:fixed;
bottom:0;
left:0;
right:0;
background:#c9a24d;
color:#000;
padding:10px 14px;
display:flex;
justify-content:space-between;
align-items:center;
font-weight:bold;
z-index:99
}

/* Frete animado */
.frete-box{
position:fixed;
top:12px;
left:50%;
transform:translateX(-50%);
background:#111;
border:1px solid #c9a24d;
color:#c9a24d;
padding:8px 14px;
border-radius:20px;
font-size:13px;
animation:pulse 1.5s infinite;
z-index:100;
}
.frete-gratis{
background:#c9a24d;
color:#000;
animation:none;
font-weight:bold;
}

@keyframes pulse{
0%{transform:translateX(-50%) scale(1)}
50%{transform:translateX(-50%) scale(1.05)}
100%{transform:translateX(-50%) scale(1)}
}

/* Carrinho */
.carrinho{
position:fixed;
right:10px;
bottom:80px;
background:#111;
border:1px solid #c9a24d;
border-radius:16px;
padding:12px;
width:260px;
max-height:320px;
overflow:auto;
z-index:98;
}
.carrinho h3{margin:0 0 10px;color:#c9a24d;font-size:15px}
.c-item{font-size:12px;margin-bottom:6px;display:flex;justify-content:space-between}
.c-item button{background:none;border:none;color:#c9a24d;cursor:pointer;font-weight:bold}
</style>

<script>
const perfumes=[
{nome:"LS Wild N¬∫01",img:"sauvage.jpg",cat:"m",ref:"Dior Sauvage"},
{nome:"LS Elite N¬∫02",img:"212vipmen.jpg",cat:"m",ref:"212 VIP Men"},
{nome:"LS Crown N¬∫03",img:"aventus.jpg",cat:"m",ref:"Creed Aventus"},
{nome:"LS Shadow N¬∫04",img:"ferrariblack.jpg",cat:"m",ref:"Ferrari Black"},
{nome:"LS Gold N¬∫05",img:"onemillion.jpg",cat:"m",ref:"1 Million"},
{nome:"LS Rebel N¬∫06",img:"scandalmen.jpg",cat:"m",ref:"Scandal Pour Homme"},
{nome:"LS Desire N¬∫07",img:"purexs.jpg",cat:"m",ref:"Pure XS"},
{nome:"LS Victory N¬∫08",img:"invictus.jpg",cat:"m",ref:"Invictus"},
{nome:"LS Night N¬∫09",img:"poloblack.jpg",cat:"m",ref:"Polo Black"},
{nome:"LS Intense N¬∫10",img:"eros.jpg",cat:"m",ref:"Versace Eros"},

{nome:"LS Rose N¬∫11",img:"212viprose.jpg",cat:"f",ref:"212 VIP Ros√©"},
{nome:"LS Goddess N¬∫12",img:"olympea.jpg",cat:"f",ref:"Olympea"},
{nome:"LS Fresh N¬∫13",img:"lightblue.jpg",cat:"f",ref:"Light Blue"},
{nome:"LS Bold N¬∫14",img:"scandal.jpg",cat:"f",ref:"Scandal"},
{nome:"LS Pure N¬∫15",img:"signature.jpg",cat:"f",ref:"Montblanc Signature"},
{nome:"LS Noir N¬∫16",img:"linterdit.jpg",cat:"f",ref:"L‚ÄôInterdit"},
{nome:"LS Chic N¬∫17",img:"cocomademoiselle.jpg",cat:"f",ref:"Coco Mademoiselle"},
{nome:"LS Chance N¬∫18",img:"chance.jpg",cat:"f",ref:"Chance Chanel"},
{nome:"LS Secret N¬∫19",img:"goodgirl.jpg",cat:"f",ref:"Good Girl"},
{nome:"LS Crystal N¬∫20",img:"omniacristaline.jpg",cat:"f",ref:"Omnia Crystalline"},
{nome:"LS Liberty N¬∫21",img:"libre.jpg",cat:"f",ref:"Libre"}
];

let carrinho=JSON.parse(localStorage.getItem("carrinhoLS"))||{};
perfumes.forEach(p=>{if(!carrinho[p.nome])carrinho[p.nome]={30:0,100:0}});
function salvar(){localStorage.setItem("carrinhoLS",JSON.stringify(carrinho));}

function gerarLista(){
let m="",f="";
perfumes.forEach(p=>{
const html=`
<div class="item">
<div class="item-top">
<img src="./img/${p.img}">
<div class="nome">
${p.nome}
<small>Inspirado por ${p.ref}</small>
</div>
</div>
<div class="tamanhos">
<div class="tamanho">
<span>30mL <span class="preco">1 un: R$59,90 | 2+ un: R$49,90</span></span>
<div class="qtd">
<button onclick="alt('${p.nome}',30,-1)">-</button>
<span id="${p.nome}-30">${carrinho[p.nome][30]}</span>
<button onclick="alt('${p.nome}',30,1)">+</button>
</div>
</div>
<div class="tamanho">
<span>100mL <span class="preco">1 un: R$129,90 | 2+ un: R$119,90</span></span>
<div class="qtd">
<button onclick="alt('${p.nome}',100,-1)">-</button>
<span id="${p.nome}-100">${carrinho[p.nome][100]}</span>
<button onclick="alt('${p.nome}',100,1)">+</button>
</div>
</div>
</div>
</div>`;
p.cat==="m"?m+=html:f+=html;
});
masc.innerHTML=m;
fem.innerHTML=f;
atualizar();
}

function alt(n,t,d){
carrinho[n][t]+=d;
if(carrinho[n][t]<0)carrinho[n][t]=0;
document.getElementById(n+"-"+t).innerText=carrinho[n][t];
atualizar(); salvar();
}

function remover(n,t){
carrinho[n][t]=0;
document.getElementById(n+"-"+t).innerText=0;
atualizar(); salvar();
}

function atualizar(){
let total=0,msg="üñ§ *Pedido LS Essence*%0A%0A",lista="";
for(let n in carrinho){
let q30=carrinho[n][30],q100=carrinho[n][100];
if(q30){ total+=q30*(q30>1?49.9:59.9); msg+=`‚Ä¢ ${n} 30mL ‚Äî ${q30} un.%0A`; lista+=`<div class="c-item">${n} 30mL (${q30}) <button onclick="remover('${n}',30)">√ó</button></div>`;}
if(q100){ total+=q100*(q100>1?119.9:129.9); msg+=`‚Ä¢ ${n} 100mL ‚Äî ${q100} un.%0A`; lista+=`<div class="c-item">${n} 100mL (${q100}) <button onclick="remover('${n}',100)">√ó</button></div>`;}
}

let frete=total>=300?0:20;
freteMsg.className="frete-box "+(frete==0?"frete-gratis":"");
freteMsg.innerText=frete==0?"üéâ Frete GR√ÅTIS liberado!":`üöö Faltam R$ ${(300-total).toFixed(2)} para frete gr√°tis`;

const endereco=document.getElementById("endereco").value;
const cep=document.getElementById("cep").value;

msg+=`%0Aüöö Frete: ${frete==0?"GR√ÅTIS":"R$20,00"}`;
msg+=`%0Aüìç *Endere√ßo de entrega:*%0A${endereco}%0ACEP: ${cep}`;
msg+=`%0Aüí∞ *Total:* R$ ${(total+frete).toFixed(2)}`;

valorBarra.innerText="R$ "+(total+frete).toFixed(2);
whats.href="https://wa.me/5519988357427?text="+msg;
carrinhoBox.innerHTML=lista||"<small>Carrinho vazio</small>";
}

window.onload=gerarLista;
</script>
</head>

<body>

<div id="freteMsg" class="frete-box"></div>

<div class="carrinho">
<h3>üõí Carrinho</h3>
<div id="carrinhoBox"></div>
</div>

<div class="container">
<h1>Monte seu pedido</h1>

<h2>Masculinos</h2>
<div id="masc"></div>

<h2>Femininos</h2>
<div id="fem"></div>

<div class="box">
<h2>Endere√ßo de entrega</h2>
<input id="endereco" placeholder="Rua, n√∫mero, bairro, cidade - UF" oninput="atualizar()">
<input id="cep" placeholder="CEP" oninput="atualizar()">
</div>

<a class="btn" id="whats" target="_blank">Finalizar pedido no WhatsApp</a>
<small>LS Essence ‚Ä¢ Refer√™ncias olfativas apenas indicativas</small>
</div>

<div class="total-barra">
<span>Total da compra</span>
<div style="display:flex;gap:10px;align-items:center">
<span id="valorBarra">R$ 0,00</span>
<a href="#" onclick="document.getElementById('whats').click()" style="background:#000;color:#c9a24d;padding:8px 14px;border-radius:20px;text-decoration:none">
Finalizar agora
</a>
</div>
</div>

</body>
</html>
